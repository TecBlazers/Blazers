(function(){function q(c){for(var a=1,b,e=arguments.length;a<e;a++){b=arguments[a];for(var d in b)c[d]=b[d]}return c}function f(c,a){for(var b=0,e=c.length;b<e&&!1!==a.call(c[b],b,c[b]);b++);return c}function l(c,a){return-1<m(c).indexOf(a)}function k(c,a){var b=m(c);f(a.split(" "),function(a,d){d=h(d);l(c,d)||(b+=d+" ")});c.setAttribute("class",h(b))}function n(c,a){f(a.split(" "),function(b,a){c.setAttribute("class",h(m(c).replace(" "+h(a)+" "," ")))})}function g(c,a){f(a.split(" "),function(b,
a){(l(c,a)?n:k)(c,a)})}var p=function(){},h=function(c){return c.trim()},m=function(c){return(" "+(c.getAttribute("class")||"")+" ").replace(/[\t\r\n\f]/g," ")},r=function(c){f(c,function(a,b){n(b,"active")})};q(p,{trim:h,extend:q,forEach:f,isNull:function(c){return null==c},hasClass:l,addClass:k,removeClass:n,toggleClass:g,menu:function a(b,e){if(null==b)return a;f(b.querySelectorAll("a"),function(a,b){var d,e=b.parentNode.querySelector("ul");null!=e&&(d=document.createElement("span"),k(d,"arrow"),
b.appendChild(d),b.addEventListener("click",function(a){a.preventDefault();g.parentChild(b,e)}))})},tabs:function(a){if(null==a)return b;var b=a.querySelectorAll(".tab"),e=a.querySelectorAll(".panel");f(b,function(d,f){var h=f.href.split("#")[1],g=a.querySelector("#"+h);null!=g&&(l(g,"active")&&k(f,"active"),f.addEventListener("click",function(a){a.preventDefault();r(b);r(e);k(g,"active");k(f,"active")}))})},open:function(a,b){var e;e="";for(var d in b)e+=d+"="+b[d]+",";e+="left="+(screen.width-b.width)/
2+",top="+(screen.height-b.height)/2;window.open(a,"",e)},social:function(a,b){f(a,function(a,d){d.addEventListener("click",function(a){a.preventDefault();p.open(this.href,b)})})}});g.parentChild=function(a,b){g(a,"active");g(b,"visible")};window.whale=p})();
